
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>pmerge &#8212; pkgcore trunk documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxdoc.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pplugincache - plugin cache update utility" href="pplugincache.html" />
    <link rel="prev" title="pmaint - system/repository maintenance utility" href="pmaint.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pplugincache.html" title="pplugincache - plugin cache update utility"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pmaint.html" title="pmaint - system/repository maintenance utility"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pkgcore trunk documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../man.html" accesskey="U">Man Pages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pmerge</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="pmerge">
<h1>pmerge<a class="headerlink" href="#pmerge" title="Permalink to this heading">¶</a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<p>pmerge [-h] [--version] [--debug] [-q] [-v] [--color BOOLEAN] [--config CONFIG_PATH] [--domain DOMAIN] [-u | -d | -C | --clean | --list-sets] [-p] [-a] [-f] [-1] [-D] [-N] [-i] [--with-bdeps] [-O] [-o] [-n] [-b] [-k] [-K] [-S] [-e] [-x TARGET[,TARGET,...]] [--ignore-failures] [--force] [--preload-vdb-state] [--quiet-repo-display] [-F FORMATTER] [TARGET ...]</p>
</section>
<section id="portage-compatibility">
<h2>Portage Compatibility<a class="headerlink" href="#portage-compatibility" title="Permalink to this heading">¶</a></h2>
<p>With regards to portage compatibility, pmerge provides much of the same
functionality that <strong>emerge</strong>(1) does. In general, it should be possible to use
both pmerge and emerge on the same system in a sane fashion. For example,
pmerge can be used to install packages and then emerge should be able to
upgrade or uninstall them, or vice versa. Also, binary packages created using
pmerge should be able to be installed properly using emerge. Any major
compatibility issue that arises when trying to use both package managers is
probably a bug and should be reported.</p>
<p>In terms of option naming, pmerge tries to remain somewhat compatible to
portage so running <code class="docutils literal notranslate"><span class="pre">pmerge</span> <span class="pre">-1av</span></code> should work the same as <code class="docutils literal notranslate"><span class="pre">emerge</span> <span class="pre">-1av</span></code> when
using portage. However, pmerge doesn't implement nearly the same amount of
options that portage provides so many of the more obscure ones are missing. In
addition, pmerge defaults to a portage compatible output format that closely
matches the default colors and output structure that portage uses.</p>
</section>
<section id="positional-arguments">
<h2>Positional Arguments<a class="headerlink" href="#positional-arguments" title="Permalink to this heading">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">TARGET<span class="colon">:</span></dt>
<dd class="field-odd"><p>extended package matching</p>
</dd>
</dl>
</section>
<section id="base-options">
<h2>Base Options<a class="headerlink" href="#base-options" title="Permalink to this heading">¶</a></h2>
<dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">--version</span></kbd></dt>
<dd><p>show this program's version info and exit</p>
</dd>
<dt><kbd><span class="option">--debug</span></kbd></dt>
<dd><p>enable debugging checks</p>
</dd>
<dt><kbd><span class="option">-q</span>, <span class="option">--quiet</span></kbd></dt>
<dd><p>suppress non-error messages</p>
</dd>
<dt><kbd><span class="option">-v</span>, <span class="option">--verbose</span></kbd></dt>
<dd><p>show verbose output</p>
</dd>
<dt><kbd><span class="option">--color <var>BOOLEAN</var></span></kbd></dt>
<dd><p>enable/disable color support</p>
</dd>
</dl>
</section>
<section id="config-options">
<h2>Config Options<a class="headerlink" href="#config-options" title="Permalink to this heading">¶</a></h2>
<dl class="option-list">
<dt><kbd><span class="option">--config <var>CONFIG_PATH</var></span></kbd></dt>
<dd><p>use custom config or skip loading system config</p>
</dd>
<dt><kbd><span class="option">--domain <var>DOMAIN</var></span></kbd></dt>
<dd><p>custom pkgcore domain to use for this operation</p>
</dd>
</dl>
</section>
<section id="operations">
<h2>Operations<a class="headerlink" href="#operations" title="Permalink to this heading">¶</a></h2>
<dl class="option-list">
<dt><kbd><span class="option">-u</span>, <span class="option">--upgrade</span></kbd></dt>
<dd><p>try to upgrade installed pkgs/deps</p>
</dd>
<dt><kbd><span class="option">-d</span>, <span class="option">--downgrade</span></kbd></dt>
<dd><p>try to downgrade installed pkgs/deps</p>
</dd>
<dt><kbd><span class="option">-C</span>, <span class="option">--unmerge</span></kbd></dt>
<dd><p>unmerge packages</p>
</dd>
<dt><kbd><span class="option">--clean</span></kbd></dt>
<dd><p>remove installed packages not referenced by any target pkgs/sets</p>
</dd>
<dt><kbd><span class="option">--list-sets</span></kbd></dt>
<dd><p>display the list of available package sets</p>
</dd>
</dl>
</section>
<section id="resolver-options">
<h2>Resolver Options<a class="headerlink" href="#resolver-options" title="Permalink to this heading">¶</a></h2>
<dl class="option-list">
<dt><kbd><span class="option">-p</span>, <span class="option">--pretend</span></kbd></dt>
<dd><p>only perform the dep resolution</p>
</dd>
<dt><kbd><span class="option">-a</span>, <span class="option">--ask</span></kbd></dt>
<dd><p>ask for user confirmation after dep resolution</p>
</dd>
<dt><kbd><span class="option">-f</span>, <span class="option">--fetchonly</span></kbd></dt>
<dd><p>do only the fetch steps of the resolved plan</p>
</dd>
<dt><kbd><span class="option">-1</span>, <span class="option">--oneshot</span></kbd></dt>
<dd><p>do not record changes in the world file</p>
</dd>
<dt><kbd><span class="option">-D</span>, <span class="option">--deep</span></kbd></dt>
<dd><p>force the resolver to verify installed deps</p>
</dd>
<dt><kbd><span class="option">-N</span>, <span class="option">--newuse</span></kbd></dt>
<dd><p>add installed pkgs with changed useflags to targets</p>
</dd>
<dt><kbd><span class="option">-i</span>, <span class="option">--ignore-cycles</span></kbd></dt>
<dd><p>ignore unbreakable dep cycles</p>
</dd>
<dt><kbd><span class="option">--with-bdeps</span></kbd></dt>
<dd><p>process build deps for built packages</p>
</dd>
<dt><kbd><span class="option">-O</span>, <span class="option">--nodeps</span></kbd></dt>
<dd><p>disable dependency resolution</p>
</dd>
<dt><kbd><span class="option">-o</span>, <span class="option">--onlydeps</span></kbd></dt>
<dd><p>only merge the deps of the specified packages</p>
</dd>
<dt><kbd><span class="option">-n</span>, <span class="option">--noreplace</span></kbd></dt>
<dd><p>don't reinstall target pkgs that are already installed</p>
</dd>
<dt><kbd><span class="option">-b</span>, <span class="option">--buildpkg</span></kbd></dt>
<dd><p>build binpkgs</p>
</dd>
<dt><kbd><span class="option">-k</span>, <span class="option">--usepkg</span></kbd></dt>
<dd><p>prefer to use binpkgs</p>
</dd>
<dt><kbd><span class="option">-K</span>, <span class="option">--usepkgonly</span></kbd></dt>
<dd><p>use only binpkgs</p>
</dd>
<dt><kbd><span class="option">-S</span>, <span class="option">--source-only</span></kbd></dt>
<dd><p>use only ebuilds, no binpkgs</p>
</dd>
<dt><kbd><span class="option">-e</span>, <span class="option">--empty</span></kbd></dt>
<dd><p>force rebuilding of all involved packages</p>
</dd>
</dl>
<dl class="simple">
<dt>-x TARGET[,TARGET,...], --exclude TARGET[,TARGET,...]</dt><dd><p>inject packages into the installed set</p>
</dd>
</dl>
<dl class="option-list">
<dt><kbd><span class="option">--ignore-failures</span></kbd></dt>
<dd><p>ignore failures while running all types of tasks</p>
</dd>
<dt><kbd><span class="option">--force</span></kbd></dt>
<dd><p>force changes to a repo, regardless of if it's frozen</p>
</dd>
<dt><kbd><span class="option">--preload-vdb-state</span></kbd></dt>
<dd><p>enable preloading of the installed packages database</p>
</dd>
</dl>
</section>
<section id="output-options">
<h2>Output Options<a class="headerlink" href="#output-options" title="Permalink to this heading">¶</a></h2>
<dl class="option-list">
<dt><kbd><span class="option">--quiet-repo-display</span></kbd></dt>
<dd><p>use indexes instead of ::repo suffixes in dep resolution output</p>
</dd>
<dt><kbd><span class="option">-F <var>FORMATTER</var></span>, <span class="option">--formatter <var>FORMATTER</var></span></kbd></dt>
<dd><p>output formatter to use</p>
</dd>
</dl>
</section>
<section id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Permalink to this heading">¶</a></h2>
<p>Merge pkgcore from the gentoo repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pmerge</span> <span class="n">sys</span><span class="o">-</span><span class="n">apps</span><span class="o">/</span><span class="n">pkgcore</span><span class="p">::</span><span class="n">gentoo</span>
</pre></div>
</div>
<p>Output a simple list of package atoms that would be updated for a global
update:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pmerge</span> <span class="o">-</span><span class="n">uDp</span> <span class="o">--</span><span class="n">formatter</span> <span class="n">basic</span> <span class="nd">@world</span>
</pre></div>
</div>
<p>Force new binpkgs to be built for the entire system set using a custom
configuration directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pmerge</span> <span class="o">-</span><span class="n">uDSeb</span> <span class="o">--</span><span class="n">config</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">foo</span><span class="o">/</span><span class="n">portage</span> <span class="nd">@system</span>
</pre></div>
</div>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><strong>emerge</strong>(1)</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">pmerge</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#portage-compatibility">Portage Compatibility</a></li>
<li><a class="reference internal" href="#positional-arguments">Positional Arguments</a></li>
<li><a class="reference internal" href="#base-options">Base Options</a></li>
<li><a class="reference internal" href="#config-options">Config Options</a></li>
<li><a class="reference internal" href="#operations">Operations</a></li>
<li><a class="reference internal" href="#resolver-options">Resolver Options</a></li>
<li><a class="reference internal" href="#output-options">Output Options</a></li>
<li><a class="reference internal" href="#example-usage">Example Usage</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="pmaint.html"
                          title="previous chapter">pmaint - system/repository maintenance utility</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="pplugincache.html"
                          title="next chapter">pplugincache - plugin cache update utility</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pplugincache.html" title="pplugincache - plugin cache update utility"
             >next</a> |</li>
        <li class="right" >
          <a href="pmaint.html" title="pmaint - system/repository maintenance utility"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pkgcore trunk documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../man.html" >Man Pages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pmerge</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2019, pkgcore contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>